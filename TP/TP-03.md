## ğŸ§ª **TP-03 â€” Simulation dâ€™un ransomware Python avec chiffrement total du systÃ¨me (usage pÃ©dagogique uniquement)**

### ğŸ¯ Objectif :
CrÃ©er un **script Python pÃ©dagogique** simulant le comportement dâ€™un **ransomware** capable de chiffrer lâ€™intÃ©gralitÃ© dâ€™un systÃ¨me Linux (y compris les dossiers systÃ¨me) **en place**, sans crÃ©er de copies, en utilisant la **cryptographie symÃ©trique**, et automatiser l'exfiltration de la clÃ© suivie dâ€™un **redÃ©marrage du serveur**.

---

### ğŸ§© Contexte :
Dans le cadre dâ€™un entraÃ®nement avancÃ© en **cybersÃ©curitÃ© offensive (Red Team)** ou dâ€™un **TP en environnement isolÃ©**, vous devez simuler une attaque de type **ransomware total**. L'objectif est d'illustrer les risques critiques dâ€™un accÃ¨s root malveillant en environnement Linux.

> âš ï¸ **Ce TP est strictement rÃ©servÃ© Ã  un environnement de test (VM isolÃ©e, sandbox)**. Toute exÃ©cution en environnement rÃ©el, en entreprise ou sur machine personnelle, est **formellement interdite** et illÃ©gale.

---

### âœ… Travail attendu :
Vous devez concevoir un script Python `ransomware_total.py` qui rÃ©alise les Ã©tapes suivantes :

1. **GÃ©nÃ©ration dâ€™une clÃ© de chiffrement symÃ©trique** (ex : AES ou Fernet).
2. **Transmission sÃ©curisÃ©e** de la clÃ© via **SFTP** Ã  une machine dâ€™attaque (serveur SFTP distant).
3. **Chiffrement in-place** : tous les fichiers accessibles depuis `/` doivent Ãªtre chiffrÃ©s directement, **en remplaÃ§ant leur contenu par la version chiffrÃ©e**.
4. **Aucune exclusion de dossier** : les dossiers systÃ¨me (`/etc`, `/usr`, `/var`, `/boot`, `/lib`, `/bin`, etc.) doivent Ã©galement Ãªtre chiffrÃ©s si les permissions le permettent.
5. **RedÃ©marrage automatique du systÃ¨me** Ã  la fin de lâ€™opÃ©ration.

---

### âš™ï¸ Contraintes techniques :
- Le script doit Ãªtre **exÃ©cutÃ© avec les privilÃ¨ges root**.
- Utilisation de la bibliothÃ¨que `cryptography` (AES/Fernet).
- Transfert de la clÃ© vers un serveur distant via **SFTP** avec `paramiko`.
- Aucune copie de fichier ne doit Ãªtre crÃ©Ã©e : le chiffrement se fait **sur place** (fichiers Ã©crasÃ©s).
- Tous les fichiers modifiables par root doivent Ãªtre chiffrÃ©s, quelle que soit leur localisation.
- Le script doit afficher clairement les Ã©tapes de lâ€™exÃ©cution (logs).

---

### ğŸ› ï¸ Technologies & Librairies autorisÃ©es :
- `cryptography` (Fernet ou AES pour le chiffrement symÃ©trique)
- `paramiko` pour le transfert SFTP
- Modules standards : `os`, `pathlib`, `subprocess`, `socket`, `sys`, `logging`

---

### ğŸ Bonus (optionnel) :
- Ajouter un message dâ€™alerte simulant une demande de ranÃ§on (`README.txt` dans `/root` ou `/`).
- CrÃ©er une version du script permettant le **dÃ©chiffrement** en fournissant manuellement la clÃ©.
- Ajout dâ€™une interface CLI (`--encrypt`, `--decrypt`, `--status`).

---

### ğŸ“Œ Consignes de sÃ©curitÃ© :
- Ce TP doit Ãªtre exÃ©cutÃ© **exclusivement dans un environnement contrÃ´lÃ©**.
- Ne pas connecter la machine Ã  Internet pendant les tests.
- Informer lâ€™instructeur avant lâ€™exÃ©cution du script pour validation du contexte.
